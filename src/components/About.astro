---
const aboutItems = [
  { label: "Creado por:", value: "Cuestión Pública" },
  { label: "Dirección editorial:", value: "Diana Salinas" },
  { label: "Dirección ejecutiva:", value: "David Tarazona" },
  { label: "Idea y propuesta creativa:", value: "Claudia Báez" },
  { label: "Líder del equipo de investigación:", value: "Miriam Forero Ariza" },
  {
    label: "Investigadores y guión:",
    value: "Andrea Rincón, Edier Buitrago, Miriam Forero y Diana Salinas",
  },
  { label: "Apoyo en investigación:", value: "Paola Tellez" },
  {
    label: "Invitados:",
    value:
      "Santiago Alarcón (personaje el diablo en el tráiler), Lobsang Salguero (voz del diablo)",
  },
  { label: "Producción y coordinación:", value: "Ilse Milena Cárdenas" },
  { label: "Fact Check:", value: "Sergio Retavisca" },
  { label: "Edición legal:", value: "Laura Martínez" },
  { label: "Diseño:", value: "Nelson Casallas" },
  { label: "Producción de pódcast:", value: "Daniel Murcia" },
  { label: "Edición de sonido:", value: "Juan David Sarmiento" },
  { label: "Realización audiovisual:", value: "El Parche Producciones" },
  {
    label: "Estrategia de audiencias:",
    value: "Natalia Gómez, Laura Tovar, Heidy González",
  },
  { label: "Agradecimiento especial:", value: "Teatro Petra" },
  {
    label: "Con el apoyo de:",
    value: "International Fund for Public Interest Media y Luminate Group",
  },
  { label: "Inspiración en la serie House of Cards.", value: "" },
];
---

<section
  class="text-white border-t border-white/20 py-12 px-6 sm:px-8 lg:mx-20"
>
  <div
    class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4"
  >
    <h2 class="text-xl sm:text-2xl font-semibold text-center sm:text-left">
      Acerca de House of Nariño
    </h2>
    <div class="flex flex-wrap justify-center sm:justify-start gap-3">
      <a
        href="https://drive.google.com/drive/folders/10R9mcFx1WS6YV0zHxI8J63XUzRZZ7DFR?usp=sharing"
        target="_blank"
        rel="noopener noreferrer"
        class="px-4 py-2 text-white rounded border border-white bg-[#242424] cursor-pointer text-sm sm:text-base"
      >
        Anexos
      </a>
      <a
        href="https://drive.google.com/drive/folders/12Pbn9GxZ1JD50Qw5_EG7JaFgrg4IWWKa?usp=sharing"
        target="_blank"
        rel="noopener noreferrer"
        class="px-4 py-2 text-white rounded border border-white bg-[#242424] cursor-pointer text-sm sm:text-base"
      >
        Contrapartes
      </a>
      <button
        id="openModalBtn"
        class="px-4 py-2 text-white rounded border border-white bg-[#242424] cursor-pointer text-sm sm:text-base"
        type="button"
      >
        Metodología
      </button>
    </div>
  </div>

  <div class="space-y-3 text-xs sm:text-sm lg:text-base mx-auto">
    {
      aboutItems.map((item, i) => (
        <p key={i} class="text-center sm:text-left">
          <span class="text-white/60">{item.label}</span>
          <span class="ml-1">{item.value}</span>
        </p>
      ))
    }
  </div>

  <div class="mt-12 flex justify-center py-16 flex-col items-center gap-2">
    <a
      href="https://cuestionpublica.com/"
      target="_blank"
      rel="noopener noreferrer"
    >
      <img
        src="/house-of-narino/images/icon-cp-white.svg"
        alt="Cuestión Pública"
        class="h-12 sm:h-16"
        loading="lazy"
      />
    </a>
    <p class="text-sm">Junio 2025</p>
  </div>

  <div class="text-center text-xs sm:text-sm text-white/60">
    <p>
      Powered by
      <a
        href="https://www.solucionsoft.com/"
        target="_blank"
        rel="noopener noreferrer"
        class="text-white hover:text-white/80 transition"
      >
        Solucionsoft
      </a>
    </p>
  </div>

  <div
    id="modal"
    class="fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center z-50 hidden"
  >
    <div
      id="modalContent"
      class="bg-[#242424] max-w-xl w-[90vw] rounded-lg p-6 text-white shadow-lg border border-white/30 relative
           transform transition-transform duration-300 scale-100"
    >
      <h3 class="text-lg font-semibold mb-4 text-center">Metodología</h3>
      <p class="text-sm mb-6 text-center">
        Para esta investigación hicimos 71 solicitudes de información a
        entidades públicas, 40 entrevistas a fuentes clave como congresistas,
        exministros, integrantes de campañas y funcionarios del gobierno Petro.
        Además, analizamos bases de datos y cientos de documentos de la UNGRD.
      </p>
      <button
        id="closeModalBtn2"
        class="block mx-auto px-6 py-2 rounded bg-white text-black font-semibold hover:bg-gray-200 transition cursor-pointer z-1000"
        type="button"
      >
        Cerrar
      </button>
    </div>
  </div>

  <script type="module">
    window.addEventListener("DOMContentLoaded", () => {
      const openBtn = document.getElementById("openModalBtn");
      const modal = document.getElementById("modal");
      const closeBtn = document.getElementById("closeModalBtn2");

      if (openBtn && closeBtn && modal) {
        openBtn.addEventListener("click", () => {
          modal.classList.remove("hidden");
          document.body.classList.add("overflow-hidden");
        });

        const closeModal = () => {
          console.log("Closing modal");
          modal.classList.add("hidden");
          document.body.classList.remove("overflow-hidden");
        };

        closeBtn.addEventListener("click", closeModal);

        modal.addEventListener("click", (e) => {
          if (e.target === modal) {
            closeModal();
          }
        });
      }
    });
  </script>
</section>
